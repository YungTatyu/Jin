import UDP from 'dgram';
import { AbstractApi, AbstractApiConstructorParams, DEVICE_TYPE } from './abstract';
import { DescriptorApiLevel } from '../types';
export declare class UdpApi extends AbstractApi {
    chunkSize: number;
    protected devices: DescriptorApiLevel[];
    protected interface: UDP.Socket;
    protected communicating: boolean;
    private enumerateAbortController;
    private debugLink?;
    constructor({ logger, debugLink }: AbstractApiConstructorParams & {
        debugLink?: boolean;
    });
    listen(): void;
    private listenLoop;
    write(path: string, buffer: Buffer, signal?: AbortSignal): Promise<import("../types").Success<undefined> | {
        success: false;
        error: "Unable to open device";
    } | {
        success: false;
        error: "device not found";
    } | {
        success: false;
        error: "device disconnected during action";
    } | {
        success: false;
        error: "unexpected error";
    } | {
        success: false;
        error: "Aborted by signal";
    } | {
        success: false;
        error: "A transfer error has occurred.";
    }>;
    read(_path: string, signal?: AbortSignal): Promise<{
        success: false;
        error: "Unable to open device";
    } | {
        success: false;
        error: "device not found";
    } | {
        success: false;
        error: "device disconnected during action";
    } | {
        success: false;
        error: "unexpected error";
    } | {
        success: false;
        error: "Aborted by signal";
    } | {
        success: false;
        error: "Aborted by timeout";
    } | import("../types").Success<Buffer> | {
        success: false;
        error: "A transfer error has occurred.";
    }>;
    private ping;
    enumerate(signal?: AbortSignal): Promise<import("../types").Success<{
        path: string;
        type: DEVICE_TYPE;
        product: number;
        vendor: number;
    }[]> | {
        success: false;
        error: "Aborted by signal";
        message: string | undefined;
    }>;
    private handleDevicesChange;
    openDevice(_path: string, _first: boolean, _signal?: AbortSignal): Promise<import("../types").Success<undefined>>;
    closeDevice(_path: string): Promise<import("../types").Success<undefined>>;
    dispose(): void;
}
//# sourceMappingURL=udp.d.ts.map