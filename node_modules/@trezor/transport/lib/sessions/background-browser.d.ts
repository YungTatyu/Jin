import type { Descriptor } from '../types';
import { SessionsBackground } from './background';
import { RegisterBackgroundCallbacks } from './types';
export declare const initBackgroundInBrowser: () => {
    background: SharedWorker;
    requestFn: (params: Parameters<SessionsBackground["handleMessage"]>[0]) => Promise<import("./types").HandshakeResponse | import("./types").EnumerateDoneResponse | ({
        success: false;
        error: "wrong previous session";
    } & {
        id: number;
    }) | (import("../types").Success<{
        session: import("../types").Session;
        path: import("../types").PathInternal;
    }> & {
        id: number;
    }) | ({
        success: false;
        error: "descriptor not found";
    } & {
        id: number;
    }) | (import("../types").Success<{
        session: import("../types").Session;
        descriptors: Descriptor[];
    }> & {
        id: number;
    }) | (import("../types").Success<{
        path: import("../types").PathInternal;
    }> & {
        id: number;
    }) | ({
        success: false;
        error: "session not found";
    } & {
        id: number;
    }) | import("./types").ReleaseDoneResponse | import("./types").GetSessionsResponse | (import("../types").Success<{
        path: import("../types").PathInternal;
    }> & {
        id: number;
    }) | (import("../types").Success<void> & {
        id: number;
    })>;
    registerBackgroundCallbacks: RegisterBackgroundCallbacks;
} | {
    background: SessionsBackground;
    requestFn: <M extends import("./types").HandleMessageParams>(message: M) => Promise<import("./types").HandleMessageResponse<M>>;
    registerBackgroundCallbacks: RegisterBackgroundCallbacks;
};
//# sourceMappingURL=background-browser.d.ts.map